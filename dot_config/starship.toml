# Configuration Starship moderne - Générée par Chezmoi
# Thème: Catppuccin Mocha coordonné avec Neovim et tmux

# Timeout pour les commandes (optimisation performance)
command_timeout = 1000

# Format personnalisé du prompt
format = """
[╭─](bold blue) $all$character"""

# Format prompt de droite (informations contextuelles)
right_format = """$cmd_duration$jobs$time"""

# Pas de nouvelle ligne au début
add_newline = false

# Palette de couleurs Catppuccin Mocha
palette = "catppuccin_mocha"

# ===== MODULES PRINCIPAUX =====

[character]
success_symbol = "[❯](bold green)"
error_symbol = "[❯](bold red)"
vimcmd_symbol = "[❮](bold yellow)"

[directory]
style = "bold blue"
format = "[$path]($style)[$lock_symbol]($lock_style) "
truncation_length = 4
truncation_symbol = "…/"
truncate_to_repo = false

# Dossiers personnalisés avec icônes
[directory.substitutions]
"projects" = "📁 projects"
"work" = "💼 work"
"Documents" = "📄 docs"
"Downloads" = "⬇️ downloads"
"Music" = "🎵 music"
"Pictures" = "📷 pics"
".config" = "⚙️ config"

[git_branch]
symbol = " "
style = "bold purple"
format = "[$symbol$branch(:$remote_branch)]($style) "

[git_status]
style = "bold yellow"
format = '([\[$all_status$ahead_behind\]]($style) )'
ahead = "⇡${count}"
diverged = "⇕⇡${ahead_count}⇣${behind_count}"
behind = "⇣${count}"
conflicted = "🏳"
up_to_date = ""
untracked = "🤷"
stashed = "📦"
modified = "📝"
staged = '📋'
renamed = "👅"
deleted = "🗑"

[git_commit]
commit_hash_length = 7
style = "bold yellow"
format = '[\($hash$tag\)]($style) '

# ===== LANGAGES DE PROGRAMMATION =====

[php]
symbol = "🐘 "
style = "bold blue"
format = "[$symbol($version )]($style)"

[nodejs]
symbol = " "
style = "bold green"
format = "[$symbol($version )]($style)"
detect_files = ["package.json", ".nvmrc"]



[python]
symbol = "🐍 "
style = "bold yellow"
format = '[${symbol}${pyenv_prefix}(${version} )(\($virtualenv\) )]($style)'

[rust]
symbol = "🦀 "
style = "bold red"
format = "[$symbol($version )]($style)"

[golang]
symbol = "🐹 "
style = "bold cyan"
format = "[$symbol($version )]($style)"

[java]
symbol = "☕ "
style = "bold orange"
format = "[$symbol($version )]($style)"

[docker_context]
symbol = "🐳 "
style = "bold blue"
format = "[$symbol$context]($style) "
only_with_files = true

# ===== CLOUD ET INFRASTRUCTURE =====

[aws]
symbol = "☁️ "
style = "bold orange"
format = '[$symbol($profile )(\($region\) )(\[$duration\] )]($style)'

[gcloud]
symbol = "☁️ "
style = "bold blue"
format = '[$symbol$account(@$domain)(\($region\))]($style) '

[kubernetes]
symbol = "☸ "
style = "bold blue"
format = '[$symbol$context( \($namespace\))]($style) '
disabled = false

# ===== OUTILS DE BUILD =====

[package]
symbol = "📦 "
style = "bold yellow"
format = "[$symbol$version]($style) "

[composer]
symbol = "🎼 "
style = "bold blue"
format = "[$symbol($version )]($style)"

[npm]
symbol = "📦 "
style = "bold red"
format = "[$symbol($version )]($style)"

# ===== SYSTÈME =====

[username]
style_user = "bold yellow"
style_root = "bold red"
format = "[$user]($style) "
show_always = false

[hostname]
ssh_only = true
style = "bold green"
format = "[@$hostname]($style) "

[os]
style = "bold white"
format = "[$symbol]($style)"
disabled = false

[os.symbols]
Alpine = "🏔️"
Amazon = "🙂"
Android = "🤖"
Arch = "🎗️"
CentOS = "💠"
Debian = "🌀"
DragonFly = "🐉"
Emscripten = "🔗"
EndeavourOS = "🚀"
Fedora = "🎩"
FreeBSD = "😈"
Garuda = "🦅"
Gentoo = "🗜️"
HardenedBSD = "🛡️"
Illumos = "🐦"
Linux = "🐧"
Macos = "🍎"
Manjaro = "🥭"
Mariner = "🌊"
MidnightBSD = "🌘"
Mint = "🌿"
NetBSD = "🚩"
NixOS = "❄️"
OpenBSD = "🐡"
OpenCloudOS = "☁️"
openEuler = "🦉"
openSUSE = "🦎"
OracleLinux = "🦴"
Pop = "🍭"
Raspbian = "🍓"
Redhat = "🎩"
RedHatEnterprise = "🎩"
Redox = "🧪"
Solus = "⛵"
SUSE = "🦎"
Ubuntu = "🎯"
Unknown = "❓"
Windows = "🪟"

[memory_usage]
disabled = false
threshold = 70
style = "bold yellow"
format = "[$symbol${ram}]($style) "
symbol = "🐏 "

[battery]
full_symbol = "🔋"
charging_symbol = "⚡"
discharging_symbol = "💀"
unknown_symbol = "❓"
empty_symbol = "💩"

[[battery.display]]
threshold = 20
style = "bold red"

[[battery.display]]
threshold = 50
style = "bold yellow"

[[battery.display]]
threshold = 80
style = "bold green"

# ===== INFORMATIONS CONTEXTUELLES =====

[cmd_duration]
min_time = 2_000
style = "bold yellow"
format = "[$duration]($style) "

[jobs]
style = "bold blue"
format = "[$symbol$number]($style) "
symbol = "⚙️"

[time]
disabled = false
style = "bold white"
format = "[$time]($style)"
time_format = "%H:%M"
utc_time_offset = "+1"  # Fuseau horaire France

[status]
style = "bold red"
format = '[\[$common_meaning$signal_name$maybe_int\]]($style) '
disabled = false

# ===== MODULES PERSONNALISÉS =====

# Détection projets Symfony
[custom.symfony]
command = "php bin/console --version 2>/dev/null | grep -o 'Symfony [0-9.]*' | head -1"
when = "test -f bin/console"
symbol = "🎼 "
style = "bold green"
format = "[$symbol$output]($style) "

# Détection projets Laravel
[custom.laravel]
command = "php artisan --version 2>/dev/null | grep -o 'Laravel Framework [0-9.]*' | head -1"
when = "test -f artisan"
symbol = "🔥 "
style = "bold red"
format = "[$symbol$output]($style) "

# Détection projets Vue.js
[custom.vue]
detect_files = ["vue.config.js", "vite.config.js"]
detect_folders = ["src"]
command = "node -pe 'JSON.parse(require(\"fs\").readFileSync(\"package.json\")).dependencies.vue' 2>/dev/null"
when = "test -f package.json && grep -q '\"vue\"' package.json"
symbol = "💚 "
style = "bold green"
format = "[$symbol$output]($style) "

# Détection projets React
[custom.react]
detect_files = ["package.json"]
command = "node -pe 'JSON.parse(require(\"fs\").readFileSync(\"package.json\")).dependencies.react' 2>/dev/null"
when = "test -f package.json && grep -q '\"react\"' package.json"
symbol = "⚛️ "
style = "bold blue"
format = "[$symbol$output]($style) "

# Détection projets Next.js
[custom.nextjs]
detect_files = ["next.config.js", "next.config.ts"]
command = "node -pe 'JSON.parse(require(\"fs\").readFileSync(\"package.json\")).dependencies.next' 2>/dev/null"
when = "test -f package.json && grep -q '\"next\"' package.json"
symbol = "▲ "
style = "bold white"
format = "[$symbol$output]($style) "

# Détection projets Nuxt.js
[custom.nuxt]
detect_files = ["nuxt.config.js", "nuxt.config.ts"]
command = "node -pe 'JSON.parse(require(\"fs\").readFileSync(\"package.json\")).dependencies.nuxt' 2>/dev/null"
when = "test -f package.json && grep -q '\"nuxt\"' package.json"
symbol = "💚 "
style = "bold green"
format = "[$symbol$output]($style) "

# Détection environnement Docker
[custom.docker_compose]
detect_files = ["docker-compose.yml", "docker-compose.yaml", "compose.yml"]
command = "echo 'compose'"
symbol = "🐳 "
style = "bold blue"
format = "[$symbol$output]($style) "

# Statut Bitwarden
[custom.bitwarden]
command = 'if command -v bw >/dev/null && bw status | grep -q "unlocked"; then echo "unlocked"; fi'
when = "command -v bw >/dev/null"
symbol = "🔓 "
style = "bold green"
format = "[$symbol]($style)"

# ===== PALETTES DE COULEURS =====

[palettes.catppuccin_mocha]
rosewater = "#f5e0dc"
flamingo = "#f2cdcd"
pink = "#f5c2e7"
mauve = "#cba6f7"
red = "#f38ba8"
maroon = "#eba0ac"
peach = "#fab387"
yellow = "#f9e2af"
green = "#a6e3a1"
teal = "#94e2d5"
sky = "#89dceb"
sapphire = "#74c7ec"
blue = "#89b4fa"
lavender = "#b4befe"
text = "#cdd6f4"
subtext1 = "#bac2de"
subtext0 = "#a6adc8"
overlay2 = "#9399b2"
overlay1 = "#7f849c"
overlay0 = "#6c7086"
surface2 = "#585b70"
surface1 = "#45475a"
surface0 = "#313244"
base = "#1e1e2e"
mantle = "#181825"
crust = "#11111b"